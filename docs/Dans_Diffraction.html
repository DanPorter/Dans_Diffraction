<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: package Dans_Diffraction</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>Dans_Diffraction</strong></big></big> (version 3.3.3, 2025/02/06)</font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:c%3A%5Cusers%5Cgrp66007%5Conedrive%20-%20diamond%20light%20source%20ltd%5Cpythonprojects%5Cdans_diffraction%5Cdans_diffraction%5C__init__.py">c:\users\grp66007\onedrive - diamond light source ltd\pythonprojects\dans_diffraction\dans_diffraction\__init__.py</a></font></td></tr></table>
    <p><tt>Dans_Diffraction<br>
Python&nbsp;package&nbsp;for&nbsp;loading&nbsp;crystal&nbsp;structures&nbsp;from&nbsp;cif&nbsp;files&nbsp;and&nbsp;calculating&nbsp;diffraction&nbsp;information.<br>
&nbsp;<br>
Installation:<br>
$&nbsp;python&nbsp;-m&nbsp;pip&nbsp;install&nbsp;Dans-Diffraction<br>
or<br>
$&nbsp;git&nbsp;clone&nbsp;https://github.com/DanPorter/Dans_Diffraction.git<br>
or<br>
$&nbsp;python&nbsp;-m&nbsp;pip&nbsp;install&nbsp;git+https://github.com/DanPorter/Dans_Diffraction.git<br>
&nbsp;<br>
Requirements:<br>
Python&nbsp;3.5+&nbsp;with&nbsp;packages:&nbsp;Numpy,&nbsp;Matplotlib,&nbsp;Tkinter<br>
BuiltIn&nbsp;packages&nbsp;used:&nbsp;sys,&nbsp;os,&nbsp;re,&nbsp;glob,&nbsp;warnings,&nbsp;json,&nbsp;itertools<br>
&nbsp;<br>
Usage:<br>
&nbsp;&nbsp;&nbsp;&nbsp;***In&nbsp;Python/&nbsp;script***<br>
&nbsp;&nbsp;&nbsp;&nbsp;import&nbsp;Dans_Diffraction&nbsp;as&nbsp;dif<br>
&nbsp;&nbsp;&nbsp;&nbsp;f&nbsp;=&nbsp;'/location/of/file.cif'<br>
&nbsp;&nbsp;&nbsp;&nbsp;xtl&nbsp;=&nbsp;dif.<a href="#Crystal">Crystal</a>(f)<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
Usage:<br>
&nbsp;&nbsp;&nbsp;&nbsp;***From&nbsp;Terminal***<br>
&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;cd&nbsp;/location/of/file<br>
&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;ipython&nbsp;-i&nbsp;-m&nbsp;-matplotlib&nbsp;tk&nbsp;Dans_Diffraction<br>
&nbsp;<br>
GitHub&nbsp;Repo:&nbsp;https://github.com/DanPorter/Dans_Diffraction<br>
Citation&nbsp;DOI:&nbsp;https://doi.org/10.5281/zenodo.8106031<br>
&nbsp;<br>
By&nbsp;Dan&nbsp;Porter,&nbsp;PhD<br>
Diamond<br>
2017-2025<br>
&nbsp;<br>
Version&nbsp;3.3.3<br>
Last&nbsp;updated:&nbsp;06/02/2025<br>
&nbsp;<br>
Version&nbsp;History:<br>
02/03/18&nbsp;1.0&nbsp;&nbsp;&nbsp;&nbsp;Version&nbsp;History&nbsp;started.<br>
30/05/18&nbsp;1.1&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Fdmnes">Fdmnes</a>&nbsp;added<br>
08/06/18&nbsp;1.2&nbsp;&nbsp;&nbsp;&nbsp;Python3&nbsp;now&nbsp;fully&nbsp;supported<br>
23/02/19&nbsp;1.3&nbsp;&nbsp;&nbsp;&nbsp;Graphical&nbsp;user&nbsp;intrface&nbsp;and&nbsp;magnetic&nbsp;x-ray&nbsp;scattering&nbsp;now&nbsp;implemented<br>
13/07/19&nbsp;1.4&nbsp;&nbsp;&nbsp;&nbsp;FDMNES&nbsp;GUI&nbsp;functionality&nbsp;added<br>
13/12/19&nbsp;1.5&nbsp;&nbsp;&nbsp;&nbsp;Multiple&nbsp;Scattering&nbsp;added,&nbsp;tkGUI&nbsp;refactored,&nbsp;Startgui&nbsp;changed&nbsp;to&nbsp;start_gui<br>
20/02/20&nbsp;1.6&nbsp;&nbsp;&nbsp;&nbsp;Tensor&nbsp;Scattering&nbsp;added<br>
31/03/20&nbsp;1.7&nbsp;&nbsp;&nbsp;&nbsp;Refactored&nbsp;multicrystal&nbsp;methods,&nbsp;other&nbsp;minor&nbsp;changes,&nbsp;improved&nbsp;powder&nbsp;diffraction<br>
19/04/20&nbsp;1.7.1&nbsp;&nbsp;Added&nbsp;write_cif&nbsp;+&nbsp;spacegroup&nbsp;file&nbsp;+&nbsp;functions<br>
02/05/20&nbsp;1.8&nbsp;&nbsp;&nbsp;&nbsp;Updated&nbsp;readcif,&nbsp;added&nbsp;heavy&nbsp;atom&nbsp;properties,&nbsp;added&nbsp;magnetic&nbsp;spacegroups<br>
12/05/20&nbsp;1.8.1&nbsp;&nbsp;Updated&nbsp;readcif,&nbsp;added&nbsp;atomic_scattering_factors&nbsp;and&nbsp;classes_orbitals<br>
26/05/20&nbsp;1.8.2&nbsp;&nbsp;Updated&nbsp;copyright,&nbsp;removed&nbsp;tensor&nbsp;scattering.&nbsp;Updated&nbsp;magnetic&nbsp;spacegroups<br>
09/06/20&nbsp;1.9&nbsp;&nbsp;&nbsp;&nbsp;Chaneged&nbsp;magnetic&nbsp;symmetry&nbsp;calculation,&nbsp;now&nbsp;correctly&nbsp;generates&nbsp;mag&nbsp;symmetry&nbsp;from&nbsp;operations<br>
10/06/20&nbsp;1.9.1&nbsp;&nbsp;Added&nbsp;time&nbsp;symmetry&nbsp;to&nbsp;Symmetry&nbsp;class<br>
16/06/20&nbsp;1.9.2&nbsp;&nbsp;Made&nbsp;change&nbsp;in&nbsp;simpulate_powder&nbsp;to&nbsp;remove&nbsp;linspace&nbsp;error<br>
29/06/20&nbsp;1.9.3&nbsp;&nbsp;Removed&nbsp;import&nbsp;of&nbsp;scipy.convolve2d&nbsp;due&nbsp;to&nbsp;import&nbsp;errrors,&nbsp;new&nbsp;method&nbsp;slower&nbsp;but&nbsp;more&nbsp;accurate<br>
02/09/20&nbsp;1.9.4&nbsp;&nbsp;Added&nbsp;string&nbsp;methods&nbsp;to&nbsp;<a href="#Crystal">Crystal</a>&nbsp;classes<br>
26/11/20&nbsp;1.9.5&nbsp;&nbsp;Various&nbsp;improvements&nbsp;and&nbsp;corrections<br>
04/01/21&nbsp;1.9.6&nbsp;&nbsp;Added&nbsp;Scattering.structure_factor&nbsp;function<br>
26/01/21&nbsp;1.9.7&nbsp;&nbsp;Added&nbsp;xray&nbsp;dispersion&nbsp;correction&nbsp;functions,&nbsp;plus&nbsp;x-ray&nbsp;interactions&nbsp;calculations<br>
15/02/21&nbsp;1.9.8&nbsp;&nbsp;Added&nbsp;plotting&nbsp;options&nbsp;for&nbsp;out-of-plane&nbsp;recirprocal&nbsp;lattice&nbsp;lines<br>
10/06/21&nbsp;1.9.9&nbsp;&nbsp;Corrected&nbsp;error&nbsp;in&nbsp;calculation&nbsp;of&nbsp;DebyeWaller&nbsp;factor&nbsp;(APDs),&nbsp;added&nbsp;x-ray&nbsp;factors&nbsp;by&nbsp;Waasmaier&nbsp;and&nbsp;Kirfel<br>
09/07/21&nbsp;1.9.9&nbsp;&nbsp;Added&nbsp;new&nbsp;scattering&nbsp;factors&nbsp;to&nbsp;scattering&nbsp;factor&nbsp;settings<br>
20/08/21&nbsp;2.0.0&nbsp;&nbsp;Added&nbsp;functions_scattering&nbsp;module&nbsp;with&nbsp;updated,&nbsp;more&nbsp;consistent&nbsp;scattering&nbsp;formula<br>
27/09/21&nbsp;2.1.0&nbsp;&nbsp;Added&nbsp;classes_orientation&nbsp;and&nbsp;diffractometer&nbsp;orientation&nbsp;functions<br>
15/11/21&nbsp;2.1.1&nbsp;&nbsp;Updated&nbsp;Plot.plot_crystal,&nbsp;added&nbsp;additional&nbsp;orientation&nbsp;functions<br>
07/02/22&nbsp;2.1.2&nbsp;&nbsp;Corrected&nbsp;error&nbsp;in&nbsp;classes_scattering.powder()&nbsp;of&nbsp;wrong&nbsp;tth&nbsp;values.&nbsp;Thanks&nbsp;Mirko!<br>
14/03/22&nbsp;2.2.0&nbsp;&nbsp;Scatter.powder()&nbsp;updated&nbsp;for&nbsp;new&nbsp;inputs&nbsp;and&nbsp;outputs&nbsp;for&nbsp;pVoight&nbsp;and&nbsp;custom&nbsp;peak&nbsp;shapes.&nbsp;Thanks&nbsp;yevgenyr!<br>
23/07/22&nbsp;2.2.1&nbsp;&nbsp;Fixed&nbsp;error&nbsp;in&nbsp;<a href="#MultiCrystal">MultiCrystal</a>.Scatter<br>
06/01/23&nbsp;2.2.2&nbsp;&nbsp;Removed&nbsp;redundent&nbsp;references&nbsp;to&nbsp;np.float<br>
14/01/23&nbsp;2.2.3&nbsp;&nbsp;Corrected&nbsp;background&nbsp;error&nbsp;in&nbsp;xtl.Scatter.powder<br>
08/05/23&nbsp;2.3.0&nbsp;&nbsp;Merged&nbsp;pull&nbsp;request&nbsp;for&nbsp;non-integer&nbsp;hkl&nbsp;option&nbsp;on&nbsp;SF&nbsp;and&nbsp;electron&nbsp;form&nbsp;factors.&nbsp;Thanks&nbsp;Prestipino!<br>
25/06/23&nbsp;3.0.0&nbsp;&nbsp;Added&nbsp;new&nbsp;GUI&nbsp;elements&nbsp;including&nbsp;new&nbsp;Scattering&nbsp;UI&nbsp;and&nbsp;diffractomter&nbsp;simulator,&nbsp;plus&nbsp;other&nbsp;updates<br>
11/07/23&nbsp;3.0.1&nbsp;&nbsp;Some&nbsp;fixes&nbsp;for&nbsp;plotting&nbsp;and&nbsp;additions&nbsp;to&nbsp;diffractometer&nbsp;orientation.&nbsp;Thanks&nbsp;asteppke!<br>
20/07/23&nbsp;3.1.0&nbsp;&nbsp;Refactored&nbsp;FDMNES&nbsp;wrapper&nbsp;with&nbsp;new&nbsp;methods&nbsp;and&nbsp;new&nbsp;defaults.&nbsp;Thanks&nbsp;YvesJoly!<br>
26/09/23&nbsp;3.1.1&nbsp;&nbsp;Minor&nbsp;changes&nbsp;and&nbsp;improvments.&nbsp;Added&nbsp;hkl1,&nbsp;hkl2&nbsp;=&nbsp;xtl.scatter.orientation_reflections()<br>
19/10/23&nbsp;3.1.2&nbsp;&nbsp;xray_resonant()&nbsp;now&nbsp;works&nbsp;with&nbsp;non-cubic&nbsp;systems,&nbsp;fixed&nbsp;scaling&nbsp;issue&nbsp;in&nbsp;diffractometer.py<br>
25/10/23&nbsp;3.1.3&nbsp;&nbsp;Fixed&nbsp;error&nbsp;with&nbsp;powder&nbsp;plot&nbsp;for&nbsp;Neutrons.&nbsp;Thanks&nbsp;Cyril!<br>
28/03/24&nbsp;3.1.4&nbsp;&nbsp;Fixed&nbsp;error&nbsp;with&nbsp;site&nbsp;symmetries&nbsp;having&nbsp;spaces&nbsp;in&nbsp;AtomsGui,&nbsp;added&nbsp;Properties.relative_positions()<br>
10/05/24&nbsp;3.1.5&nbsp;&nbsp;Fixed&nbsp;SyntaxWarnings&nbsp;from&nbsp;Unrecognized&nbsp;escape&nbsp;sequences&nbsp;in&nbsp;Python&nbsp;3.12,&nbsp;various&nbsp;fixes&nbsp;to&nbsp;scattering<br>
15/05/24&nbsp;3.2.0&nbsp;&nbsp;Added&nbsp;"save"&nbsp;and&nbsp;"load"&nbsp;methods&nbsp;to&nbsp;structure&nbsp;factor&nbsp;calculation,&nbsp;improved&nbsp;powder&nbsp;for&nbsp;large&nbsp;calculations<br>
20/05/24&nbsp;3.2.1&nbsp;&nbsp;Added&nbsp;pyproject.toml&nbsp;file&nbsp;for&nbsp;installation,&nbsp;including&nbsp;dansdiffraction&nbsp;script<br>
29/07/24&nbsp;3.2.2&nbsp;&nbsp;Fix&nbsp;for&nbsp;issue&nbsp;#19&nbsp;in&nbsp;multiple_scattering&nbsp;code,&nbsp;other&nbsp;minor&nbsp;improvements<br>
04/09/24&nbsp;3.2.3&nbsp;&nbsp;Updated&nbsp;method&nbsp;of&nbsp;generating&nbsp;charge&nbsp;states&nbsp;in&nbsp;classes_orbtials.py,&nbsp;Thanks&nbsp;Seonghun!<br>
25/09/24&nbsp;3.2.4&nbsp;&nbsp;Fixed&nbsp;error&nbsp;of&nbsp;missing&nbsp;rotation&nbsp;matrices&nbsp;after&nbsp;load_spacegroup.&nbsp;Thanks&nbsp;asteppke!<br>
26/09/24&nbsp;3.3.0&nbsp;&nbsp;Added&nbsp;complex&nbsp;neutron&nbsp;scattering&nbsp;lengths&nbsp;for&nbsp;isotopes&nbsp;from&nbsp;package&nbsp;periodictable.&nbsp;Thanks&nbsp;thamnos!<br>
06/11/24&nbsp;3.3.1&nbsp;&nbsp;Fixed&nbsp;incorrect&nbsp;cell&nbsp;basis&nbsp;for&nbsp;triclinic&nbsp;cells.&nbsp;Added&nbsp;functions_lattice.py&nbsp;and&nbsp;tests.&nbsp;Thanks&nbsp;LeeRichter!<br>
20/11/24&nbsp;3.3.2&nbsp;&nbsp;Added&nbsp;alternate&nbsp;option&nbsp;for&nbsp;neutron&nbsp;scattering&nbsp;lengths<br>
06/02/25&nbsp;3.3.3&nbsp;&nbsp;Added&nbsp;scattering&nbsp;options&nbsp;for&nbsp;polarised&nbsp;neutron&nbsp;and&nbsp;x-ray&nbsp;scattering.&nbsp;Thanks&nbsp;dragonyanglong!<br>
&nbsp;<br>
Acknoledgements:<br>
&nbsp;&nbsp;&nbsp;&nbsp;2018&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Thanks&nbsp;to&nbsp;Hepesu&nbsp;for&nbsp;help&nbsp;with&nbsp;Python3&nbsp;support&nbsp;and&nbsp;ideas&nbsp;about&nbsp;breaking&nbsp;up&nbsp;calculations<br>
&nbsp;&nbsp;&nbsp;&nbsp;Dec&nbsp;2019&nbsp;&nbsp;&nbsp;&nbsp;Thanks&nbsp;to&nbsp;Gareth&nbsp;Nisbet&nbsp;for&nbsp;allowing&nbsp;me&nbsp;to&nbsp;inlude&nbsp;his&nbsp;multiple&nbsp;scattering&nbsp;siumulation<br>
&nbsp;&nbsp;&nbsp;&nbsp;April&nbsp;2020&nbsp;&nbsp;Thanks&nbsp;to&nbsp;ChunHai&nbsp;Wang&nbsp;for&nbsp;helpful&nbsp;suggestions&nbsp;in&nbsp;readcif!<br>
&nbsp;&nbsp;&nbsp;&nbsp;May&nbsp;2020&nbsp;&nbsp;&nbsp;&nbsp;Thanks&nbsp;to&nbsp;AndreEbel&nbsp;for&nbsp;helpful&nbsp;suggestions&nbsp;on&nbsp;citations<br>
&nbsp;&nbsp;&nbsp;&nbsp;Dec&nbsp;2020&nbsp;&nbsp;&nbsp;&nbsp;Thanks&nbsp;to&nbsp;Chris&nbsp;Drozdowski&nbsp;for&nbsp;suggestions&nbsp;about&nbsp;reflection&nbsp;families<br>
&nbsp;&nbsp;&nbsp;&nbsp;Jan&nbsp;2021&nbsp;&nbsp;&nbsp;&nbsp;Thanks&nbsp;to&nbsp;aslarsen&nbsp;for&nbsp;suggestions&nbsp;about&nbsp;outputting&nbsp;the&nbsp;structure&nbsp;factor<br>
&nbsp;&nbsp;&nbsp;&nbsp;April&nbsp;2021&nbsp;&nbsp;Thanks&nbsp;to&nbsp;Trygve&nbsp;RÃ¦der&nbsp;for&nbsp;suggestions&nbsp;about&nbsp;x-ray&nbsp;scattering&nbsp;factors<br>
&nbsp;&nbsp;&nbsp;&nbsp;Feb&nbsp;2022&nbsp;&nbsp;&nbsp;&nbsp;Thanks&nbsp;to&nbsp;Mirko&nbsp;for&nbsp;pointing&nbsp;out&nbsp;the&nbsp;error&nbsp;in&nbsp;two-theta&nbsp;values&nbsp;in&nbsp;Scatter.powder<br>
&nbsp;&nbsp;&nbsp;&nbsp;March&nbsp;2022&nbsp;&nbsp;Thanks&nbsp;to&nbsp;yevgenyr&nbsp;for&nbsp;suggesting&nbsp;new&nbsp;peak&nbsp;profiles&nbsp;in&nbsp;Scatter.powder<br>
&nbsp;&nbsp;&nbsp;&nbsp;Jan&nbsp;2023&nbsp;&nbsp;&nbsp;&nbsp;Thanks&nbsp;to&nbsp;Anuradha&nbsp;Vibhakar&nbsp;for&nbsp;pointing&nbsp;out&nbsp;the&nbsp;error&nbsp;in&nbsp;f0&nbsp;+&nbsp;if'-if''<br>
&nbsp;&nbsp;&nbsp;&nbsp;Jan&nbsp;2023&nbsp;&nbsp;&nbsp;&nbsp;Thanks&nbsp;to&nbsp;Andreas&nbsp;Rosnes&nbsp;for&nbsp;testing&nbsp;the&nbsp;installation&nbsp;in&nbsp;jupyterlab<br>
&nbsp;&nbsp;&nbsp;&nbsp;May&nbsp;2023&nbsp;&nbsp;&nbsp;&nbsp;Thanks&nbsp;to&nbsp;Carmelo&nbsp;Prestipino&nbsp;for&nbsp;adding&nbsp;electron&nbsp;scattering&nbsp;factors<br>
&nbsp;&nbsp;&nbsp;&nbsp;June&nbsp;2023&nbsp;&nbsp;&nbsp;Thanks&nbsp;to&nbsp;Sergio&nbsp;I.&nbsp;Rincon&nbsp;for&nbsp;pointing&nbsp;out&nbsp;the&nbsp;rounding&nbsp;error&nbsp;in&nbsp;Scatter.powder<br>
&nbsp;&nbsp;&nbsp;&nbsp;July&nbsp;2023&nbsp;&nbsp;&nbsp;Thanks&nbsp;to&nbsp;asteppke&nbsp;for&nbsp;suggested&nbsp;update&nbsp;to&nbsp;Arrow3D&nbsp;for&nbsp;matplotlib&nbsp;V&gt;3.4<br>
&nbsp;&nbsp;&nbsp;&nbsp;July&nbsp;2023&nbsp;&nbsp;&nbsp;Thanks&nbsp;to&nbsp;Yves&nbsp;Joly&nbsp;for&nbsp;helpful&nbsp;suggestions&nbsp;on&nbsp;FDMNES&nbsp;wrapper<br>
&nbsp;&nbsp;&nbsp;&nbsp;Oct&nbsp;2023&nbsp;&nbsp;&nbsp;&nbsp;Thanks&nbsp;to&nbsp;asteppke&nbsp;for&nbsp;pointing&nbsp;out&nbsp;scaling&nbsp;issue&nbsp;in&nbsp;diffractometer&nbsp;gui<br>
&nbsp;&nbsp;&nbsp;&nbsp;Oct&nbsp;2023&nbsp;&nbsp;&nbsp;&nbsp;Thanks&nbsp;to&nbsp;Cyril&nbsp;Cayron&nbsp;for&nbsp;pointing&nbsp;out&nbsp;the&nbsp;error&nbsp;with&nbsp;plotting&nbsp;neutron&nbsp;power&nbsp;spectra<br>
&nbsp;&nbsp;&nbsp;&nbsp;Jan&nbsp;2024&nbsp;&nbsp;&nbsp;&nbsp;Thanks&nbsp;to&nbsp;Carmelo&nbsp;Prestipino&nbsp;for&nbsp;adding&nbsp;search_distance&nbsp;and&nbsp;plot_distance<br>
&nbsp;&nbsp;&nbsp;&nbsp;May&nbsp;2024&nbsp;&nbsp;&nbsp;&nbsp;Thanks&nbsp;to&nbsp;Innbig&nbsp;for&nbsp;spotting&nbsp;some&nbsp;errors&nbsp;in&nbsp;large&nbsp;liquid&nbsp;crystal&nbsp;powder&nbsp;patterns<br>
&nbsp;&nbsp;&nbsp;&nbsp;May&nbsp;2024&nbsp;&nbsp;&nbsp;&nbsp;Thanks&nbsp;to&nbsp;paul-cares&nbsp;pointing&nbsp;out&nbsp;a&nbsp;silly&nbsp;spelling&nbsp;error&nbsp;in&nbsp;the&nbsp;title!<br>
&nbsp;&nbsp;&nbsp;&nbsp;Aug&nbsp;2024&nbsp;&nbsp;&nbsp;&nbsp;Thanks&nbsp;to&nbsp;Seonghun&nbsp;for&nbsp;pointing&nbsp;out&nbsp;the&nbsp;error&nbsp;with&nbsp;charge&nbsp;states&nbsp;in&nbsp;Hf<br>
&nbsp;&nbsp;&nbsp;&nbsp;Aug&nbsp;2024&nbsp;&nbsp;&nbsp;&nbsp;Thanks&nbsp;to&nbsp;MaxPelly&nbsp;for&nbsp;spell&nbsp;checks&nbsp;in&nbsp;examples<br>
&nbsp;&nbsp;&nbsp;&nbsp;Sep&nbsp;2024&nbsp;&nbsp;&nbsp;&nbsp;Thanks&nbsp;to&nbsp;thamnos&nbsp;for&nbsp;suggestion&nbsp;to&nbsp;add&nbsp;complex&nbsp;neutron&nbsp;scattering&nbsp;lengths<br>
&nbsp;&nbsp;&nbsp;&nbsp;Oct&nbsp;2024&nbsp;&nbsp;&nbsp;&nbsp;Thanks&nbsp;to&nbsp;Lee&nbsp;Richter&nbsp;for&nbsp;pointing&nbsp;out&nbsp;the&nbsp;error&nbsp;in&nbsp;triclinic&nbsp;basis&nbsp;definition<br>
&nbsp;&nbsp;&nbsp;&nbsp;Dec&nbsp;2024&nbsp;&nbsp;&nbsp;&nbsp;Thanks&nbsp;to&nbsp;dragonyanglong&nbsp;for&nbsp;pointing&nbsp;out&nbsp;the&nbsp;error&nbsp;with&nbsp;magnetic&nbsp;neutron&nbsp;scattering<br>
&nbsp;<br>
-----------------------------------------------------------------------------<br>
&nbsp;&nbsp;&nbsp;Copyright&nbsp;2024&nbsp;Diamond&nbsp;Light&nbsp;Source&nbsp;Ltd.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;Licensed&nbsp;under&nbsp;the&nbsp;Apache&nbsp;License,&nbsp;Version&nbsp;2.0&nbsp;(the&nbsp;"License");<br>
&nbsp;&nbsp;&nbsp;you&nbsp;may&nbsp;not&nbsp;use&nbsp;this&nbsp;file&nbsp;except&nbsp;in&nbsp;compliance&nbsp;with&nbsp;the&nbsp;License.<br>
&nbsp;&nbsp;&nbsp;You&nbsp;may&nbsp;obtain&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;License&nbsp;at<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a><br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;Unless&nbsp;required&nbsp;by&nbsp;applicable&nbsp;law&nbsp;or&nbsp;agreed&nbsp;to&nbsp;in&nbsp;writing,&nbsp;software<br>
&nbsp;&nbsp;&nbsp;distributed&nbsp;under&nbsp;the&nbsp;License&nbsp;is&nbsp;distributed&nbsp;on&nbsp;an&nbsp;"AS&nbsp;IS"&nbsp;BASIS,<br>
&nbsp;&nbsp;&nbsp;WITHOUT&nbsp;WARRANTIES&nbsp;OR&nbsp;CONDITIONS&nbsp;OF&nbsp;ANY&nbsp;KIND,&nbsp;either&nbsp;express&nbsp;or&nbsp;implied.<br>
&nbsp;&nbsp;&nbsp;See&nbsp;the&nbsp;License&nbsp;for&nbsp;the&nbsp;specific&nbsp;language&nbsp;governing&nbsp;permissions&nbsp;and<br>
&nbsp;&nbsp;&nbsp;limitations&nbsp;under&nbsp;the&nbsp;License.<br>
&nbsp;<br>
Files&nbsp;in&nbsp;this&nbsp;package&nbsp;covered&nbsp;by&nbsp;this&nbsp;licence:<br>
&nbsp;&nbsp;&nbsp;&nbsp;classes_crystal.py<br>
&nbsp;&nbsp;&nbsp;&nbsp;classes_scattering.py<br>
&nbsp;&nbsp;&nbsp;&nbsp;classes_plotting.py<br>
&nbsp;&nbsp;&nbsp;&nbsp;classes_properties.py<br>
&nbsp;&nbsp;&nbsp;&nbsp;classes_multicrystal.py<br>
&nbsp;&nbsp;&nbsp;&nbsp;classes_orbitals.py<br>
&nbsp;&nbsp;&nbsp;&nbsp;functions_general.py<br>
&nbsp;&nbsp;&nbsp;&nbsp;functions_plotting.py<br>
&nbsp;&nbsp;&nbsp;&nbsp;functions_crystallography.py<br>
&nbsp;&nbsp;&nbsp;&nbsp;tkgui/*.py<br>
Other&nbsp;files&nbsp;are&nbsp;either&nbsp;covered&nbsp;by&nbsp;their&nbsp;own&nbsp;licence&nbsp;or&nbsp;not&nbsp;licenced&nbsp;for&nbsp;other&nbsp;use.<br>
&nbsp;<br>
&nbsp;Dr&nbsp;Daniel&nbsp;G&nbsp;Porter,&nbsp;dan.porter@diamond.ac.uk<br>
&nbsp;www.diamond.ac.uk<br>
&nbsp;Diamond&nbsp;Light&nbsp;Source,&nbsp;Chilton,&nbsp;Didcot,&nbsp;Oxon,&nbsp;OX11&nbsp;0DE,&nbsp;U.K.</tt></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Package Contents</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="Dans_Diffraction.__main__.html">__main__</a><br>
<a href="Dans_Diffraction.classes_crystal.html">classes_crystal</a><br>
<a href="Dans_Diffraction.classes_fdmnes.html">classes_fdmnes</a><br>
<a href="Dans_Diffraction.classes_multicrystal.html">classes_multicrystal</a><br>
<a href="Dans_Diffraction.classes_orbitals.html">classes_orbitals</a><br>
</td><td width="25%" valign=top><a href="Dans_Diffraction.classes_orientation.html">classes_orientation</a><br>
<a href="Dans_Diffraction.classes_plotting.html">classes_plotting</a><br>
<a href="Dans_Diffraction.classes_properties.html">classes_properties</a><br>
<a href="Dans_Diffraction.classes_scattering.html">classes_scattering</a><br>
<a href="Dans_Diffraction.classes_structures.html">classes_structures</a><br>
</td><td width="25%" valign=top><a href="Dans_Diffraction.functions_crystallography.html">functions_crystallography</a><br>
<a href="Dans_Diffraction.functions_general.html">functions_general</a><br>
<a href="Dans_Diffraction.functions_lattice.html">functions_lattice</a><br>
<a href="Dans_Diffraction.functions_plotting.html">functions_plotting</a><br>
<a href="Dans_Diffraction.functions_scattering.html">functions_scattering</a><br>
</td><td width="25%" valign=top><a href="Dans_Diffraction.multiple_scattering.html">multiple_scattering</a><br>
<a href="Dans_Diffraction.tensor_scattering.html">tensor_scattering</a><br>
<a href="Dans_Diffraction.tkgui.html"><strong>tkgui</strong>&nbsp;(package)</a><br>
</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="builtins.html#object">builtins.object</a>
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="Dans_Diffraction.classes_crystal.html#Crystal">Dans_Diffraction.classes_crystal.Crystal</a>
</font></dt><dt><font face="helvetica, arial"><a href="Dans_Diffraction.classes_fdmnes.html#Fdmnes">Dans_Diffraction.classes_fdmnes.Fdmnes</a>
</font></dt><dt><font face="helvetica, arial"><a href="Dans_Diffraction.classes_fdmnes.html#FdmnesAnalysis">Dans_Diffraction.classes_fdmnes.FdmnesAnalysis</a>
</font></dt><dt><font face="helvetica, arial"><a href="Dans_Diffraction.classes_multicrystal.html#MultiCrystal">Dans_Diffraction.classes_multicrystal.MultiCrystal</a>
</font></dt><dt><font face="helvetica, arial"><a href="Dans_Diffraction.classes_structures.html#Structures">Dans_Diffraction.classes_structures.Structures</a>
</font></dt></dl>
</dd>
</dl>
 <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="Crystal">class <strong>Crystal</strong></a>(<a href="builtins.html#object">builtins.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt><a href="#Crystal-name">Crystal</a>(filename=None)<br>
&nbsp;<br>
Reads&nbsp;the&nbsp;structure&nbsp;information&nbsp;from&nbsp;a&nbsp;cif&nbsp;file&nbsp;and&nbsp;generates&nbsp;the&nbsp;full&nbsp;structure.<br>
Allows&nbsp;the&nbsp;adjustment&nbsp;of&nbsp;the&nbsp;structure&nbsp;through&nbsp;the&nbsp;lattice&nbsp;parameters,&nbsp;symmetry&nbsp;<br>
or&nbsp;atomic&nbsp;displacement.<br>
Can&nbsp;calculate&nbsp;reflection&nbsp;intensities&nbsp;and&nbsp;two-theta&nbsp;values.<br>
&nbsp;<br>
E.G.<br>
&nbsp;&nbsp;xtl&nbsp;=&nbsp;<a href="#Crystal-name">Crystal</a>('Diamond.cif')<br>
&nbsp;&nbsp;xtl.Cell.lp()&nbsp;&gt;&gt;&nbsp;give&nbsp;the&nbsp;lattice&nbsp;parameters<br>
&nbsp;&nbsp;xtl.Atoms.uvw()&nbsp;&gt;&gt;&nbsp;give&nbsp;the&nbsp;symmetric&nbsp;atomic&nbsp;positions<br>
&nbsp;&nbsp;xtl.Symmetry.symmetry_operations&nbsp;&gt;&gt;&nbsp;give&nbsp;symmetry&nbsp;operations<br>
&nbsp;&nbsp;xtl.Structure.uvw()&nbsp;&gt;&gt;&nbsp;give&nbsp;the&nbsp;full,&nbsp;unsymmetrised&nbsp;structure<br>
&nbsp;&nbsp;xtl.Scatter.hkl([1,0,0],8.00)&nbsp;&gt;&gt;&nbsp;prints&nbsp;the&nbsp;intensity&nbsp;and&nbsp;two-theta&nbsp;of&nbsp;this&nbsp;reflection&nbsp;at&nbsp;this&nbsp;energy<br>
&nbsp;&nbsp;xtl.Scatter.print_all_reflections(8.00)&nbsp;&gt;&gt;&nbsp;print&nbsp;all&nbsp;allowed&nbsp;reflections,&nbsp;with&nbsp;intensities,&nbsp;at&nbsp;this&nbsp;energy<br>
&nbsp;&nbsp;xtl.<a href="#Crystal-write_cif">write_cif</a>('Diamond2.cif')&nbsp;&gt;&gt;&nbsp;write&nbsp;updated&nbsp;structure&nbsp;to&nbsp;file<br>
&nbsp;<br>
To&nbsp;create&nbsp;your&nbsp;own&nbsp;crystal&nbsp;(BCC&nbsp;example):<br>
&nbsp;&nbsp;xtl&nbsp;=&nbsp;<a href="#Crystal-name">Crystal</a>()<br>
&nbsp;&nbsp;xtl.new_latt([2.866])<br>
&nbsp;&nbsp;xtl.<a href="#Crystal-new_atoms">new_atoms</a>(u=[0,0.5],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v=[0,0.5],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w=[0,0.5],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type=['Fe','Fe'])<br>
&nbsp;&nbsp;xtl.hkl([[1,0,0],[1,1,0],[1,1,1],[2,0,0]])<br>
&nbsp;<br>
Also,&nbsp;see:<br>
&nbsp;&nbsp;&nbsp;&nbsp;help(xtl.Cell)<br>
&nbsp;&nbsp;&nbsp;&nbsp;help(xtl.Atoms)<br>
&nbsp;&nbsp;&nbsp;&nbsp;help(xtl.Symmetry)<br>
&nbsp;&nbsp;&nbsp;&nbsp;help(xtl.Scatter)<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="Crystal-__add__"><strong>__add__</strong></a>(self, other)</dt></dl>

<dl><dt><a name="Crystal-__init__"><strong>__init__</strong></a>(self, filename=None)</dt><dd><tt>Initialize&nbsp;self.&nbsp;&nbsp;See&nbsp;help(type(self))&nbsp;for&nbsp;accurate&nbsp;signature.</tt></dd></dl>

<dl><dt><a name="Crystal-__repr__"><strong>__repr__</strong></a>(self)</dt><dd><tt>Return&nbsp;repr(self).</tt></dd></dl>

<dl><dt><a name="Crystal-__str__"><strong>__str__</strong></a>(self)</dt><dd><tt>Return&nbsp;str(self).</tt></dd></dl>

<dl><dt><a name="Crystal-add_parent"><strong>add_parent</strong></a>(self, parent, P)</dt><dd><tt>Add&nbsp;parent&nbsp;structure,&nbsp;returning&nbsp;<a href="#Crystal">Crystal</a>&nbsp;as&nbsp;superstructure<br>
&nbsp;&nbsp;&nbsp;&nbsp;parent&nbsp;=&nbsp;<a href="#Crystal-name">Crystal</a>(cif_parent)<br>
&nbsp;&nbsp;&nbsp;&nbsp;xtl&nbsp;=&nbsp;<a href="#Crystal-name">Crystal</a>(cif_superstructure)<br>
&nbsp;&nbsp;&nbsp;&nbsp;su&nbsp;=&nbsp;xtl.<a href="#Crystal-add_parent">add_parent</a>(parent,&nbsp;[[1,1,0],[0,2,0],[0,0,1]])</tt></dd></dl>

<dl><dt><a name="Crystal-generate_lattice"><strong>generate_lattice</strong></a>(self, U=1, V=1, W=0)</dt><dd><tt>Generate&nbsp;a&nbsp;repeated&nbsp;lattice&nbsp;of&nbsp;the&nbsp;crystal&nbsp;structure<br>
&nbsp;&nbsp;&nbsp;&nbsp;latt&nbsp;=&nbsp;xtl.<a href="#Crystal-generate_lattice">generate_lattice</a>(2,0,0)<br>
:param&nbsp;U:&nbsp;Repeat&nbsp;of&nbsp;the&nbsp;cell&nbsp;along&nbsp;the&nbsp;a&nbsp;axis<br>
:param&nbsp;V:&nbsp;Repeat&nbsp;of&nbsp;the&nbsp;cell&nbsp;along&nbsp;the&nbsp;b&nbsp;axis<br>
:param&nbsp;W:&nbsp;Repeat&nbsp;of&nbsp;the&nbsp;cell&nbsp;along&nbsp;the&nbsp;c&nbsp;axis<br>
:return:&nbsp;<a href="#Crystal">Crystal</a>&nbsp;<a href="builtins.html#object">object</a></tt></dd></dl>

<dl><dt><a name="Crystal-generate_structure"><strong>generate_structure</strong></a>(self)</dt><dd><tt>Combines&nbsp;the&nbsp;atomic&nbsp;positions&nbsp;with&nbsp;symmetry&nbsp;operations,&nbsp;returning&nbsp;the&nbsp;full&nbsp;structure&nbsp;as&nbsp;an&nbsp;Atoms&nbsp;class<br>
:return:&nbsp;None</tt></dd></dl>

<dl><dt><a name="Crystal-generate_superstructure"><strong>generate_superstructure</strong></a>(self, P)</dt><dd><tt>Generate&nbsp;a&nbsp;superstructure&nbsp;of&nbsp;the&nbsp;current&nbsp;cell<br>
&nbsp;&nbsp;&nbsp;&nbsp;a'&nbsp;=&nbsp;n1a&nbsp;+&nbsp;n2b&nbsp;+&nbsp;n3c<br>
&nbsp;&nbsp;&nbsp;&nbsp;b'&nbsp;=&nbsp;m1a&nbsp;+&nbsp;m2b&nbsp;+&nbsp;m3c<br>
&nbsp;&nbsp;&nbsp;&nbsp;c'&nbsp;=&nbsp;o1a&nbsp;+&nbsp;o2b&nbsp;+&nbsp;o3c<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OR<br>
&nbsp;&nbsp;&nbsp;&nbsp;[a',b',c']&nbsp;=&nbsp;P[a,b,c]<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Where<br>
&nbsp;&nbsp;&nbsp;&nbsp;P&nbsp;=&nbsp;[[n1,n2,n3],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[m1,m2,m3],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[o1,o2,o3]]<br>
Returns&nbsp;a&nbsp;superstructure&nbsp;<a href="#Crystal">Crystal</a>&nbsp;class:<br>
&nbsp;&nbsp;&nbsp;&nbsp;su&nbsp;=&nbsp;xtl.generate_superstructrue([[2,0,0],[0,2,0],[0,0,1]])<br>
&nbsp;<br>
Superstructure&nbsp;<a href="#Crystal">Crystal</a>&nbsp;classes&nbsp;have&nbsp;additional&nbsp;attributes:<br>
&nbsp;&nbsp;&nbsp;&nbsp;su.P&nbsp;=&nbsp;P&nbsp;as&nbsp;given<br>
&nbsp;&nbsp;&nbsp;&nbsp;su.Parent&nbsp;=&nbsp;the&nbsp;parent&nbsp;<a href="#Crystal">Crystal</a>&nbsp;Class<br>
&nbsp;<br>
Use&nbsp;&gt;&gt;hasattr(su,'Parent')&nbsp;to&nbsp;check&nbsp;if&nbsp;the&nbsp;current&nbsp;<a href="builtins.html#object">object</a>&nbsp;is&nbsp;a<br>
superstructure&nbsp;<a href="#Crystal">Crystal</a>&nbsp;class</tt></dd></dl>

<dl><dt><a name="Crystal-info"><strong>info</strong></a>(self)</dt><dd><tt>Returns&nbsp;information&nbsp;about&nbsp;the&nbsp;crystal&nbsp;structure<br>
:return:&nbsp;str</tt></dd></dl>

<dl><dt><a name="Crystal-invert_structure"><strong>invert_structure</strong></a>(self)</dt><dd><tt>Convert&nbsp;handedness&nbsp;of&nbsp;structure,&nbsp;transform&nbsp;from&nbsp;left-handed&nbsp;to&nbsp;right&nbsp;handed,&nbsp;or&nbsp;visa-versa<br>
Equivlent&nbsp;to&nbsp;xtl.<a href="#Crystal-transform">transform</a>([[-1,0,0],&nbsp;[0,-1,0],&nbsp;[0,0,-1]])<br>
:return:&nbsp;Superstructure&nbsp;<a href="#Crystal">Crystal</a>&nbsp;class</tt></dd></dl>

<dl><dt><a name="Crystal-new_atoms"><strong>new_atoms</strong></a>(self, u=[0], v=[0], w=[0], type=None, label=None, occupancy=None, uiso=None, mxmymz=None)</dt><dd><tt>Replace&nbsp;current&nbsp;atomic&nbsp;positions&nbsp;with&nbsp;new&nbsp;ones&nbsp;and&nbsp;regenerate&nbsp;structure<br>
:param&nbsp;u:&nbsp;array&nbsp;:&nbsp;atomic&nbsp;positions&nbsp;u<br>
:param&nbsp;v:&nbsp;array&nbsp;:&nbsp;atomic&nbsp;positions&nbsp;v<br>
:param&nbsp;w:&nbsp;&nbsp;array&nbsp;:&nbsp;atomic&nbsp;positions&nbsp;w<br>
:param&nbsp;type:&nbsp;&nbsp;array&nbsp;:&nbsp;atomic&nbsp;types<br>
:param&nbsp;label:&nbsp;array&nbsp;:&nbsp;atomic&nbsp;labels<br>
:param&nbsp;occupancy:&nbsp;array&nbsp;:&nbsp;atomic&nbsp;occupation<br>
:param&nbsp;uiso:&nbsp;array&nbsp;:&nbsp;atomic&nbsp;isotropic&nbsp;thermal&nbsp;parameters<br>
:param&nbsp;mxmymz:&nbsp;array&nbsp;:&nbsp;atomic&nbsp;magnetic&nbsp;vectors&nbsp;[mu,mv,mw]<br>
:return:&nbsp;None</tt></dd></dl>

<dl><dt><a name="Crystal-new_cell"><strong>new_cell</strong></a>(self, *lattice_parameters, **kwargs)</dt><dd><tt>Replace&nbsp;the&nbsp;lattice&nbsp;parameters<br>
:param&nbsp;lattice_parameters:&nbsp;[a,b,c,alpha,beta,gamma]<br>
:return:&nbsp;None</tt></dd></dl>

<dl><dt><a name="Crystal-search_distances"><strong>search_distances</strong></a>(self, min_d=0.65, max_d=3.2, c_ele=None, elems=None, labels=None, simple=True)</dt><dd><tt>Calculated&nbsp;atoms&nbsp;interatomic&nbsp;distances&nbsp;form&nbsp;each&nbsp;label.<br>
:param&nbsp;c_ele&nbsp;(list,string):&nbsp;only&nbsp;sites&nbsp;with&nbsp;noted&nbsp;elements<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;None&nbsp;all&nbsp;site<br>
:param&nbsp;elems&nbsp;(list,string):&nbsp;only&nbsp;distances&nbsp;with&nbsp;noted&nbsp;elements<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;None&nbsp;all&nbsp;site<br>
:param&nbsp;min_d:&nbsp;minimum&nbsp;distance&nbsp;<br>
:param&nbsp;max_d:&nbsp;maximum&nbsp;distance<br>
:return&nbsp;dictionary:</tt></dd></dl>

<dl><dt><a name="Crystal-start_gui"><strong>start_gui</strong></a>(self)</dt><dd><tt>Start&nbsp;<a href="#Crystal">Crystal</a>&nbsp;GUI<br>
:return:&nbsp;None</tt></dd></dl>

<dl><dt><a name="Crystal-transform"><strong>transform</strong></a>(self, P)</dt><dd><tt>Transform&nbsp;the&nbsp;current&nbsp;cell<br>
&nbsp;&nbsp;&nbsp;&nbsp;a'&nbsp;=&nbsp;n1a&nbsp;+&nbsp;n2b&nbsp;+&nbsp;n3c<br>
&nbsp;&nbsp;&nbsp;&nbsp;b'&nbsp;=&nbsp;m1a&nbsp;+&nbsp;m2b&nbsp;+&nbsp;m3c<br>
&nbsp;&nbsp;&nbsp;&nbsp;c'&nbsp;=&nbsp;o1a&nbsp;+&nbsp;o2b&nbsp;+&nbsp;o3c<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OR<br>
&nbsp;&nbsp;&nbsp;&nbsp;[a',b',c']&nbsp;=&nbsp;P[a,b,c]<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Where<br>
&nbsp;&nbsp;&nbsp;&nbsp;P&nbsp;=&nbsp;[[n1,n2,n3],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[m1,m2,m3],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[o1,o2,o3]]<br>
Returns&nbsp;a&nbsp;superstructure&nbsp;<a href="#Crystal">Crystal</a>&nbsp;class:<br>
&nbsp;&nbsp;&nbsp;&nbsp;su&nbsp;=&nbsp;xtl.<a href="#Crystal-transform">transform</a>([[0,1,0],[1,0,0],[0,0,1]])<br>
&nbsp;<br>
Superstructure&nbsp;<a href="#Crystal">Crystal</a>&nbsp;classes&nbsp;have&nbsp;additional&nbsp;attributes:<br>
&nbsp;&nbsp;&nbsp;&nbsp;su.P&nbsp;=&nbsp;P&nbsp;as&nbsp;given<br>
&nbsp;&nbsp;&nbsp;&nbsp;su.Parent&nbsp;=&nbsp;the&nbsp;parent&nbsp;<a href="#Crystal">Crystal</a>&nbsp;Class<br>
&nbsp;<br>
Use&nbsp;&gt;&gt;hasattr(su,'Parent')&nbsp;to&nbsp;check&nbsp;if&nbsp;the&nbsp;current&nbsp;<a href="builtins.html#object">object</a>&nbsp;is&nbsp;a<br>
superstructure&nbsp;<a href="#Crystal">Crystal</a>&nbsp;class</tt></dd></dl>

<dl><dt><a name="Crystal-update_cif"><strong>update_cif</strong></a>(self, cifvals=None)</dt><dd><tt>Update&nbsp;self.<strong>cif</strong>&nbsp;dict&nbsp;with&nbsp;current&nbsp;values<br>
:param&nbsp;cifvals:&nbsp;cif&nbsp;dict&nbsp;from&nbsp;readcif&nbsp;(None&nbsp;to&nbsp;use&nbsp;self.<strong>cif</strong>)<br>
:return:&nbsp;cifvals</tt></dd></dl>

<dl><dt><a name="Crystal-write_cif"><strong>write_cif</strong></a>(self, filename=None, comments=None)</dt><dd><tt>Write&nbsp;crystal&nbsp;structure&nbsp;to&nbsp;CIF&nbsp;(Crystallographic&nbsp;Information&nbsp;File)<br>
&nbsp;Only&nbsp;basic&nbsp;information&nbsp;is&nbsp;saved&nbsp;to&nbsp;the&nbsp;file,&nbsp;but&nbsp;enough&nbsp;to&nbsp;open&nbsp;in&nbsp;VESTA&nbsp;etc.<br>
&nbsp;If&nbsp;magnetic&nbsp;ions&nbsp;are&nbsp;defined,&nbsp;a&nbsp;magnetic&nbsp;cif&nbsp;(*.mcif)&nbsp;will&nbsp;be&nbsp;produce<br>
:param&nbsp;filename:&nbsp;name&nbsp;to&nbsp;write&nbsp;too,&nbsp;if&nbsp;None,&nbsp;use&nbsp;writes&nbsp;to&nbsp;self.<strong>name</strong>&nbsp;(.cif/.mcif)<br>
:param&nbsp;comments:&nbsp;str&nbsp;comments&nbsp;to&nbsp;add&nbsp;to&nbsp;file&nbsp;header<br>
:return:&nbsp;None</tt></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<hr>
Data and other attributes defined here:<br>
<dl><dt><strong>cif</strong> = {}</dl>

<dl><dt><strong>filename</strong> = ''</dl>

<dl><dt><strong>name</strong> = 'Crystal'</dl>

<dl><dt><strong>scale</strong> = 1.0</dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="Fdmnes">class <strong>Fdmnes</strong></a>(<a href="builtins.html#object">builtins.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt><a href="#Fdmnes">Fdmnes</a>(xtl=<a href="#Crystal">Crystal</a>&nbsp;with&nbsp;1&nbsp;atomic&nbsp;positions,&nbsp;1&nbsp;symmetries)<br>
&nbsp;<br>
FDMNES&nbsp;class:&nbsp;Create&nbsp;input&nbsp;files&nbsp;for&nbsp;the&nbsp;FDMNES&nbsp;software&nbsp;and&nbsp;run&nbsp;the&nbsp;program&nbsp;inside&nbsp;a&nbsp;python&nbsp;console<br>
&nbsp;<br>
FDMNES&nbsp;(Finite&nbsp;Difference&nbsp;Method&nbsp;for&nbsp;Near&nbsp;Edge&nbsp;Structure)&nbsp;is&nbsp;an&nbsp;abinitio&nbsp;DFT&nbsp;program&nbsp;for<br>
simulating&nbsp;x-ray&nbsp;absorption&nbsp;spectra&nbsp;and&nbsp;resonant&nbsp;diffraction.<br>
FDMNES&nbsp;is&nbsp;developed&nbsp;by&nbsp;Yves&nbsp;Joly&nbsp;at&nbsp;CNRS&nbsp;and&nbsp;can&nbsp;be&nbsp;freely&nbsp;downloaded&nbsp;from&nbsp;here:<br>
&nbsp;&nbsp;www.fdmnes.neel.cnrs.fr<br>
&nbsp;<br>
In&nbsp;case&nbsp;of&nbsp;publication,&nbsp;please&nbsp;include&nbsp;the&nbsp;following&nbsp;citation:<br>
&nbsp;&nbsp;O.&nbsp;Bunau&nbsp;and&nbsp;Y.&nbsp;Joly&nbsp;"Self-consistent&nbsp;aspects&nbsp;of&nbsp;x-ray&nbsp;absorption&nbsp;calculations"<br>
&nbsp;&nbsp;J.&nbsp;Phys.:&nbsp;Condens.&nbsp;Matter&nbsp;21,&nbsp;345501&nbsp;(2009)<br>
&nbsp;<br>
This&nbsp;class&nbsp;creates&nbsp;a&nbsp;simple&nbsp;wrapper&nbsp;to&nbsp;automatically&nbsp;generate&nbsp;input&nbsp;files&nbsp;from&nbsp;Dans_Diffraction<br>
<a href="#Crystal">Crystal</a>&nbsp;structures.&nbsp;The&nbsp;output&nbsp;files&nbsp;from&nbsp;the&nbsp;calculation&nbsp;can&nbsp;also&nbsp;be&nbsp;automatically&nbsp;plotted.<br>
&nbsp;<br>
E.G.<br>
xtl&nbsp;=&nbsp;<a href="#Crystal">Crystal</a>('Co.cif')<br>
fdm&nbsp;=&nbsp;<a href="#Fdmnes">Fdmnes</a>(xtl)<br>
fdm.<a href="#Fdmnes-setup">setup</a>(folder_name='New_Calculation',<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comment='Test',<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;absorber='Co',<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge='K'<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;azi_ref=[0,0,1],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hkl_reflections=[[1,0,0],[0,1,0],[1,1,0]]<br>
fdm.<a href="#Fdmnes-create_files">create_files</a>()<br>
fdm.<a href="#Fdmnes-write_fdmfile">write_fdmfile</a>()<br>
fdm.<a href="#Fdmnes-run_fdmnes">run_fdmnes</a>()<br>
###Wait&nbsp;for&nbsp;program&nbsp;completion###<br>
analysis&nbsp;=&nbsp;fdm.<a href="#Fdmnes-analyse">analyse</a>()<br>
print(analysis)<br>
analysis.xanes.plot()<br>
analysis.density.plot()<br>
for&nbsp;ref&nbsp;in&nbsp;analysis:<br>
&nbsp;&nbsp;&nbsp;&nbsp;ref.plot3D()<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="Fdmnes-__init__"><strong>__init__</strong></a>(self, xtl=Crystal with 1 atomic positions, 1 symmetries)</dt><dd><tt>Initialize&nbsp;self.&nbsp;&nbsp;See&nbsp;help(type(self))&nbsp;for&nbsp;accurate&nbsp;signature.</tt></dd></dl>

<dl><dt><a name="Fdmnes-__repr__"><strong>__repr__</strong></a>(self)</dt><dd><tt>Return&nbsp;repr(self).</tt></dd></dl>

<dl><dt><a name="Fdmnes-__str__"><strong>__str__</strong></a>(self)</dt><dd><tt>Return&nbsp;str(self).</tt></dd></dl>

<dl><dt><a name="Fdmnes-analyse"><strong>analyse</strong></a>(self, folder_name=None)</dt><dd><tt>Analyse&nbsp;the&nbsp;completed&nbsp;calculation<br>
:param&nbsp;folder_name:&nbsp;str&nbsp;name&nbsp;or&nbsp;directory&nbsp;of&nbsp;calculation&nbsp;(None&nbsp;to&nbsp;use&nbsp;current&nbsp;calculation)<br>
:return:&nbsp;<a href="#FdmnesAnalysis">FdmnesAnalysis</a>&nbsp;Object</tt></dd></dl>

<dl><dt><a name="Fdmnes-azimuthal_reference"><strong>azimuthal_reference</strong></a>(self, hkl=(1, 0, 0))</dt><dd><tt>Generate&nbsp;the&nbsp;azimuthal&nbsp;reference<br>
:param&nbsp;hkl:&nbsp;(1*3)&nbsp;array&nbsp;[h,k,l]<br>
:return:&nbsp;None</tt></dd></dl>

<dl><dt><a name="Fdmnes-create_directory"><strong>create_directory</strong></a>(self)</dt><dd><tt>Create&nbsp;a&nbsp;directory&nbsp;in&nbsp;the&nbsp;FDMNES/Sim&nbsp;folder<br>
:return:&nbsp;None</tt></dd></dl>

<dl><dt><a name="Fdmnes-create_files"><strong>create_files</strong></a>(self, param_string=None)</dt><dd><tt>Create&nbsp;FDMNES&nbsp;calculation&nbsp;directory&nbsp;and&nbsp;files<br>
&nbsp;-&nbsp;creates&nbsp;new&nbsp;directory<br>
&nbsp;-&nbsp;writes&nbsp;the&nbsp;input&nbsp;file&nbsp;to&nbsp;that&nbsp;directory<br>
:param&nbsp;param_string:&nbsp;str&nbsp;text&nbsp;to&nbsp;add&nbsp;to&nbsp;indata&nbsp;file&nbsp;(None&nbsp;will&nbsp;generate)<br>
:return:&nbsp;None</tt></dd></dl>

<dl><dt><a name="Fdmnes-find_fdmnes_exe"><strong>find_fdmnes_exe</strong></a>(self, initial_dir=None, fdmnes_filename='fdmnes_win64.exe', reset=False)</dt><dd><tt>Find&nbsp;fdmnes&nbsp;executable</tt></dd></dl>

<dl><dt><a name="Fdmnes-generate_input_path"><strong>generate_input_path</strong></a>(self)</dt><dd><tt>Returns&nbsp;the&nbsp;input&nbsp;file&nbsp;pathname<br>
&nbsp;E.G.&nbsp;'c:\FDMNES\Sim\Fe2O3\FDMNES_Fe2O3.txt'<br>
:return:&nbsp;filepath</tt></dd></dl>

<dl><dt><a name="Fdmnes-generate_output_path"><strong>generate_output_path</strong></a>(self, folder_name=None, overwrite=False)</dt><dd><tt>Creates&nbsp;an&nbsp;automatic&nbsp;output&nbsp;path&nbsp;in&nbsp;the&nbsp;FDMNES/Sim&nbsp;directory<br>
&nbsp;If&nbsp;overwrite&nbsp;is&nbsp;False&nbsp;and&nbsp;the&nbsp;directory&nbsp;already&nbsp;exists,&nbsp;a&nbsp;number&nbsp;will&nbsp;be&nbsp;appended&nbsp;to&nbsp;the&nbsp;name<br>
:param&nbsp;folder_name:&nbsp;str&nbsp;or&nbsp;None,&nbsp;if&nbsp;None&nbsp;xtl.name&nbsp;will&nbsp;be&nbsp;used<br>
:param&nbsp;overwrite:&nbsp;True/False<br>
:return:&nbsp;str&nbsp;directory&nbsp;E.G.&nbsp;'c:\FDMNES\Sim\Fe2O3'</tt></dd></dl>

<dl><dt><a name="Fdmnes-generate_parameters_string"><strong>generate_parameters_string</strong></a>(self)</dt><dd><tt>Create&nbsp;the&nbsp;string&nbsp;of&nbsp;parameters&nbsp;and&nbsp;comments&nbsp;for&nbsp;the&nbsp;input&nbsp;file<br>
:return:&nbsp;str</tt></dd></dl>

<dl><dt><a name="Fdmnes-info"><strong>info</strong></a>(self)</dt><dd><tt>Print&nbsp;setup&nbsp;info<br>
:return:&nbsp;str</tt></dd></dl>

<dl><dt><a name="Fdmnes-run_fdmnes"><strong>run_fdmnes</strong></a>(self)</dt><dd><tt>Run&nbsp;the&nbsp;fdmnes&nbsp;code,&nbsp;waits&nbsp;until&nbsp;the&nbsp;program&nbsp;completes<br>
Remember&nbsp;to&nbsp;use&nbsp;self.<strong>create_files</strong>&nbsp;and&nbsp;self.<strong>write_fdmfile</strong>&nbsp;first!<br>
:return:&nbsp;subprocess.call&nbsp;output</tt></dd></dl>

<dl><dt><a name="Fdmnes-setup"><strong>setup</strong></a>(self, exe_path=None, output_path=None, output_name=None, folder_name=None, input_name=None, comment=None, energy_range=None, radius=None, edge=None, absorber=None, green=None, scf=None, quadrupole=None, azi_ref=None, correct_azi=None, hkl_reflections=None)</dt><dd><tt>Set&nbsp;FDMNES&nbsp;Parameters<br>
:param&nbsp;exe_path:&nbsp;Location&nbsp;of&nbsp;FDMNES&nbsp;executable,&nbsp;e.g.&nbsp;'c:\FDMNES\fdmnes_win64.exe'<br>
:param&nbsp;output_path:&nbsp;Specify&nbsp;the&nbsp;output&nbsp;path<br>
:param&nbsp;folder_name:&nbsp;Specify&nbsp;output&nbsp;folder&nbsp;name&nbsp;(replaces&nbsp;output_path)<br>
:param&nbsp;output_name:&nbsp;Name&nbsp;of&nbsp;FDMNES&nbsp;output&nbsp;files<br>
:param&nbsp;input_name:&nbsp;Name&nbsp;of&nbsp;FDMNES&nbsp;input&nbsp;file<br>
:param&nbsp;comment:&nbsp;A&nbsp;comment&nbsp;written&nbsp;in&nbsp;the&nbsp;input&nbsp;file<br>
:param&nbsp;energy_range:&nbsp;str&nbsp;energy&nbsp;range&nbsp;in&nbsp;eV&nbsp;relative&nbsp;to&nbsp;Fermi&nbsp;energy<br>
:param&nbsp;radius:&nbsp;calculation&nbsp;radius<br>
:param&nbsp;edge:&nbsp;absorptin&nbsp;edge,&nbsp;'K',&nbsp;'L3',&nbsp;'L2'<br>
:param&nbsp;absorber:&nbsp;absorbing&nbsp;element,&nbsp;'Co'<br>
:param&nbsp;green:&nbsp;Green's&nbsp;function&nbsp;(muffin-tin&nbsp;potential)<br>
:param&nbsp;scf:&nbsp;True/False,&nbsp;Self&nbsp;consistent&nbsp;solution<br>
:param&nbsp;quadrupole:&nbsp;False/True,&nbsp;E1E2&nbsp;terms&nbsp;allowed<br>
:param&nbsp;azi_ref:&nbsp;azimuthal&nbsp;reference,&nbsp;[1,0,0]<br>
:param&nbsp;correct_azi:&nbsp;if&nbsp;True,&nbsp;correct&nbsp;azimuthal&nbsp;reference&nbsp;for&nbsp;real&nbsp;cell&nbsp;(use&nbsp;in&nbsp;hexagonal&nbsp;systems)<br>
:param&nbsp;hkl_reflections:&nbsp;list&nbsp;of&nbsp;hkl&nbsp;reflections&nbsp;[[1,0,0],[0,1,0]]<br>
:return:&nbsp;None</tt></dd></dl>

<dl><dt><a name="Fdmnes-write_fdmfile"><strong>write_fdmfile</strong></a>(self, file_list=None)</dt><dd><tt>Create&nbsp;fdmfile&nbsp;with&nbsp;list&nbsp;of&nbsp;calculations<br>
:param&nbsp;file_list:&nbsp;list&nbsp;of&nbsp;parameter&nbsp;file&nbsp;names&nbsp;for&nbsp;fdmfile,&nbsp;or&nbsp;None&nbsp;to&nbsp;only&nbsp;calculate&nbsp;current&nbsp;parameters<br>
:return:&nbsp;None</tt></dd></dl>

<dl><dt><a name="Fdmnes-write_runfile"><strong>write_runfile</strong></a>(self, param_string=None)</dt><dd><tt>Write&nbsp;FDMNES&nbsp;input&nbsp;data&nbsp;to&nbsp;a&nbsp;file<br>
:param&nbsp;param_string:&nbsp;str&nbsp;text&nbsp;to&nbsp;add&nbsp;to&nbsp;indata&nbsp;file&nbsp;(None&nbsp;will&nbsp;generate)<br>
:return:&nbsp;None</tt></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="FdmnesAnalysis">class <strong>FdmnesAnalysis</strong></a>(<a href="builtins.html#object">builtins.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt><a href="#FdmnesAnalysis">FdmnesAnalysis</a>(output_path,&nbsp;output_name='out',&nbsp;calc_name=None)<br>
&nbsp;<br>
Create&nbsp;fdmnes&nbsp;<a href="builtins.html#object">object</a>&nbsp;from&nbsp;*_scan_conv.txt&nbsp;file<br>
&nbsp;<br>
Usage:<br>
&nbsp;&nbsp;&nbsp;&nbsp;fdm&nbsp;=&nbsp;<a href="#FdmnesAnalysis">FdmnesAnalysis</a>(output_path,&nbsp;output_name)<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;fdm&nbsp;contains&nbsp;all&nbsp;calculated&nbsp;reflections&nbsp;and&nbsp;xanes&nbsp;spectra,&nbsp;as&nbsp;well&nbsp;as&nbsp;spherical&nbsp;tensors<br>
&nbsp;&nbsp;&nbsp;&nbsp;Automated&nbsp;plotting&nbsp;of&nbsp;azimuths,&nbsp;spectra&nbsp;and&nbsp;density&nbsp;of&nbsp;states.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;fdm.xanes.plot()<br>
&nbsp;&nbsp;&nbsp;&nbsp;fdm.density.plot()<br>
&nbsp;&nbsp;&nbsp;&nbsp;fdm.I100sp.plot3D()<br>
&nbsp;&nbsp;&nbsp;&nbsp;fdm.sph_I100sp.plot()<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="FdmnesAnalysis-__add__"><strong>__add__</strong></a>(self, other)</dt></dl>

<dl><dt><a name="FdmnesAnalysis-__getitem__"><strong>__getitem__</strong></a>(self, item)</dt><dd><tt>Return&nbsp;Reflection</tt></dd></dl>

<dl><dt><a name="FdmnesAnalysis-__init__"><strong>__init__</strong></a>(self, output_path, output_name='out', calc_name=None)</dt><dd><tt>Loads&nbsp;data&nbsp;from&nbsp;an&nbsp;FDMNES&nbsp;calculation,&nbsp;allowing&nbsp;plotting&nbsp;and&nbsp;data&nbsp;cuts<br>
&nbsp;E.G.<br>
&nbsp;fdm&nbsp;=&nbsp;<a href="#FdmnesAnalysis">FdmnesAnalysis</a>('c:\FDMNES\Fe2O3','out')<br>
&nbsp;fdm.xanes.plot()<br>
&nbsp;plt.show()<br>
&nbsp;<br>
:param&nbsp;output_path:&nbsp;directory&nbsp;of&nbsp;the&nbsp;calculation&nbsp;to&nbsp;be&nbsp;loaded<br>
:param&nbsp;output_name:&nbsp;base&nbsp;output&nbsp;name&nbsp;for&nbsp;the&nbsp;calculation&nbsp;(default='out')</tt></dd></dl>

<dl><dt><a name="FdmnesAnalysis-__repr__"><strong>__repr__</strong></a>(self)</dt><dd><tt>Return&nbsp;repr(self).</tt></dd></dl>

<dl><dt><a name="FdmnesAnalysis-__str__"><strong>__str__</strong></a>(self)</dt><dd><tt>Return&nbsp;str(self).</tt></dd></dl>

<dl><dt><a name="FdmnesAnalysis-info"><strong>info</strong></a>(self)</dt><dd><tt>Returns&nbsp;header&nbsp;of&nbsp;calculation&nbsp;output&nbsp;fipe&nbsp;(*_bav.txt)<br>
:return:&nbsp;str</tt></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<hr>
Data and other attributes defined here:<br>
<dl><dt><strong>angle</strong> = array([0])</dl>

<dl><dt><strong>energy</strong> = array([0])</dl>

<dl><dt><strong>refkeys</strong> = []</dl>

<dl><dt><strong>reflections</strong> = {}</dl>

<dl><dt><strong>reflist</strong> = []</dl>

<dl><dt><strong>sphkeys</strong> = []</dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="MultiCrystal">class <strong>MultiCrystal</strong></a>(<a href="builtins.html#object">builtins.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt><a href="#MultiCrystal">MultiCrystal</a>(crystal_list)<br>
&nbsp;<br>
Multi_Crystal&nbsp;class&nbsp;for&nbsp;combining&nbsp;multiple&nbsp;phases<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="MultiCrystal-__add__"><strong>__add__</strong></a>(self, other)</dt></dl>

<dl><dt><a name="MultiCrystal-__get__"><strong>__get__</strong></a>(self, item)</dt></dl>

<dl><dt><a name="MultiCrystal-__init__"><strong>__init__</strong></a>(self, crystal_list)</dt><dd><tt>Multi-crystal&nbsp;class</tt></dd></dl>

<dl><dt><a name="MultiCrystal-__repr__"><strong>__repr__</strong></a>(self)</dt><dd><tt>Return&nbsp;repr(self).</tt></dd></dl>

<dl><dt><a name="MultiCrystal-__str__"><strong>__str__</strong></a>(self)</dt><dd><tt>Return&nbsp;str(self).</tt></dd></dl>

<dl><dt><a name="MultiCrystal-find_close_reflections"><strong>find_close_reflections</strong></a>(self, HKL, energy_kev=None, max_twotheta=2, max_angle=10)</dt><dd><tt>Find&nbsp;reflections&nbsp;close&nbsp;to&nbsp;the&nbsp;given&nbsp;one&nbsp;&nbsp;and&nbsp;return&nbsp;list</tt></dd></dl>

<dl><dt><a name="MultiCrystal-info"><strong>info</strong></a>(self)</dt><dd><tt>Display&nbsp;information&nbsp;about&nbsp;the&nbsp;contained&nbsp;crystals</tt></dd></dl>

<dl><dt><a name="MultiCrystal-orient_6circle"><strong>orient_6circle</strong></a>(self, phi=0, chi=0, eta=0, mu=0)</dt><dd><tt>Set&nbsp;rotation&nbsp;matrix&nbsp;using&nbsp;6-circle&nbsp;diffractometer&nbsp;axes</tt></dd></dl>

<dl><dt><a name="MultiCrystal-orient_set_r"><strong>orient_set_r</strong></a>(self, rotation)</dt><dd><tt>Set&nbsp;rotation&nbsp;matrix&nbsp;in&nbsp;diffractometer&nbsp;frame</tt></dd></dl>

<dl><dt><a name="MultiCrystal-print_all_reflections"><strong>print_all_reflections</strong></a>(self, energy_kev=None, print_symmetric=False, min_intensity=None, max_intensity=None, units=None)</dt><dd><tt>Prints&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;allowed&nbsp;reflections&nbsp;at&nbsp;this&nbsp;energy<br>
&nbsp;&nbsp;&nbsp;&nbsp;energy_kev&nbsp;=&nbsp;energy&nbsp;in&nbsp;keV<br>
&nbsp;&nbsp;&nbsp;&nbsp;print_symmetric&nbsp;=&nbsp;False*/True&nbsp;:&nbsp;omits&nbsp;reflections&nbsp;with&nbsp;the&nbsp;same&nbsp;intensity&nbsp;at&nbsp;the&nbsp;same&nbsp;angle<br>
&nbsp;&nbsp;&nbsp;&nbsp;min_intensity&nbsp;=&nbsp;None/&nbsp;0.01&nbsp;:&nbsp;omits&nbsp;reflections&nbsp;less&nbsp;than&nbsp;this&nbsp;(remove&nbsp;extinctions)<br>
&nbsp;&nbsp;&nbsp;&nbsp;max_intensity&nbsp;=&nbsp;None/&nbsp;0.01&nbsp;:&nbsp;omits&nbsp;reflections&nbsp;greater&nbsp;than&nbsp;this&nbsp;(show&nbsp;extinctions&nbsp;only)<br>
&nbsp;&nbsp;&nbsp;&nbsp;units&nbsp;=&nbsp;None/&nbsp;'twotheta'/&nbsp;'q'/&nbsp;'dspace'&nbsp;:&nbsp;choose&nbsp;scattering&nbsp;angle&nbsp;units&nbsp;to&nbsp;display</tt></dd></dl>

<dl><dt><a name="MultiCrystal-remove"><strong>remove</strong></a>(self, index=-1)</dt><dd><tt>Remove&nbsp;crystal&nbsp;[index]&nbsp;from&nbsp;crystal&nbsp;list</tt></dd></dl>

<dl><dt><a name="MultiCrystal-set_labframe"><strong>set_labframe</strong></a>(self, lab)</dt><dd><tt>Set&nbsp;transformation&nbsp;matrix&nbsp;between&nbsp;diffractometer&nbsp;and&nbsp;lab</tt></dd></dl>

<dl><dt><a name="MultiCrystal-set_labframe_i16"><strong>set_labframe_i16</strong></a>(self)</dt><dd><tt>Set&nbsp;lab&nbsp;transformation&nbsp;matrix&nbsp;for&nbsp;beamline&nbsp;I16&nbsp;at&nbsp;Diamond&nbsp;Light&nbsp;Source</tt></dd></dl>

<dl><dt><a name="MultiCrystal-set_scale"><strong>set_scale</strong></a>(self, index, scale=1.0)</dt><dd><tt>Set&nbsp;scale&nbsp;of&nbsp;crystal[index]</tt></dd></dl>

<dl><dt><a name="MultiCrystal-setup_scatter"><strong>setup_scatter</strong></a>(self, **kwargs)</dt><dd><tt>Simple&nbsp;way&nbsp;to&nbsp;set&nbsp;scattering&nbsp;parameters,&nbsp;each&nbsp;parameter&nbsp;is&nbsp;internal&nbsp;to&nbsp;xtl&nbsp;(self)<br>
&nbsp;<br>
scattering_type&nbsp;:&nbsp;self.<strong>_scattering</strong>&nbsp;type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;'xray','neutron','xray&nbsp;magnetic','neutron&nbsp;magnetic','xray&nbsp;resonant'<br>
energy_kev&nbsp;&nbsp;:&nbsp;self.<strong>_energy_kev</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;radiation&nbsp;energy&nbsp;in&nbsp;keV<br>
wavelength_a:&nbsp;self.<strong>_wavelength_a</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;radiation&nbsp;wavelength&nbsp;in&nbsp;Angstrom<br>
powder_units:&nbsp;self.<strong>_powder_units</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;units&nbsp;to&nbsp;use&nbsp;when&nbsp;displaying/&nbsp;plotting&nbsp;['twotheta',&nbsp;'d','&nbsp;'q']<br>
min_twotheta:&nbsp;self.<strong>_scattering_min_two_theta</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;minimum&nbsp;detector&nbsp;(two-theta)&nbsp;angle<br>
max_twotheta:&nbsp;self.<strong>_scattering_max_two_theta</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;maximum&nbsp;detector&nbsp;(two-theta)&nbsp;angle<br>
min_theta&nbsp;&nbsp;&nbsp;:&nbsp;self.<strong>_scattering_min_theta</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;minimum&nbsp;sample&nbsp;angle&nbsp;=&nbsp;-opening&nbsp;angle<br>
max_theta&nbsp;&nbsp;&nbsp;:&nbsp;self.<strong>_scattering_max_theta</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;maximum&nbsp;sample&nbsp;angle&nbsp;=&nbsp;opening&nbsp;angle<br>
theta_offset:&nbsp;self.<strong>_scattering_theta_offset</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;sample&nbsp;offset&nbsp;angle<br>
specular&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;self.<strong>_scattering_specular_direction</strong>&nbsp;:&nbsp;[h,k,l]&nbsp;:&nbsp;reflections&nbsp;normal&nbsp;to&nbsp;sample&nbsp;surface<br>
parallel&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;self.<strong>_scattering_parallel_direction</strong>&nbsp;:&nbsp;[h,k,l]&nbsp;:&nbsp;reflections&nbsp;normal&nbsp;to&nbsp;sample&nbsp;surface</tt></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="Structures">class <strong>Structures</strong></a>(<a href="builtins.html#object">builtins.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>Provides&nbsp;a&nbsp;database&nbsp;of&nbsp;cif&nbsp;files<br>
&nbsp;&nbsp;&nbsp;&nbsp;S&nbsp;=&nbsp;<a href="#Structures">Structures</a>()&nbsp;#&nbsp;builds&nbsp;database<br>
&nbsp;&nbsp;&nbsp;&nbsp;xtl&nbsp;=&nbsp;S.Diamond.build()<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Use&nbsp;S.list&nbsp;to&nbsp;see&nbsp;the&nbsp;available&nbsp;structures<br>
&nbsp;&nbsp;&nbsp;&nbsp;Use&nbsp;S.cif_files&nbsp;to&nbsp;see&nbsp;filenames&nbsp;of&nbsp;structures<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Iterating&nbsp;over&nbsp;all&nbsp;structures:<br>
&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;xtl&nbsp;in&nbsp;S:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(xtl)<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="Structures-__getitem__"><strong>__getitem__</strong></a>(self, item)</dt></dl>

<dl><dt><a name="Structures-__init__"><strong>__init__</strong></a>(self)</dt><dd><tt>Initialize&nbsp;self.&nbsp;&nbsp;See&nbsp;help(type(self))&nbsp;for&nbsp;accurate&nbsp;signature.</tt></dd></dl>

<dl><dt><a name="Structures-__str__"><strong>__str__</strong></a>(self)</dt><dd><tt>Return&nbsp;str(self).</tt></dd></dl>

<dl><dt><a name="Structures-info"><strong>info</strong></a>(self)</dt><dd><tt>"Print&nbsp;Available&nbsp;<a href="#Structures">Structures</a></tt></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-readcif"><strong>readcif</strong></a>(filename=None, debug=False)</dt><dd><tt>Open&nbsp;a&nbsp;Crystallographic&nbsp;Information&nbsp;File&nbsp;(*.cif)&nbsp;file&nbsp;and&nbsp;store&nbsp;all&nbsp;entries&nbsp;in&nbsp;a&nbsp;key:value&nbsp;dictionary<br>
&nbsp;Looped&nbsp;values&nbsp;are&nbsp;stored&nbsp;as&nbsp;lists&nbsp;under&nbsp;a&nbsp;single&nbsp;key&nbsp;entry<br>
&nbsp;All&nbsp;values&nbsp;are&nbsp;stored&nbsp;as&nbsp;strings<br>
E.G.<br>
&nbsp;&nbsp;crys=<a href="#-readcif">readcif</a>('somefile.cif')<br>
&nbsp;&nbsp;crys['_cell_length_a']&nbsp;=&nbsp;'2.835(2)'<br>
&nbsp;<br>
crys[key]&nbsp;=&nbsp;value<br>
available&nbsp;keys&nbsp;are&nbsp;give&nbsp;by&nbsp;crys.keys()<br>
&nbsp;<br>
To&nbsp;debug&nbsp;the&nbsp;file&nbsp;with&nbsp;outputted&nbsp;messages,&nbsp;use:<br>
&nbsp;&nbsp;cif&nbsp;=&nbsp;<a href="#-readcif">readcif</a>(file,&nbsp;debug=True)<br>
&nbsp;<br>
Some&nbsp;useful&nbsp;standard&nbsp;CIF&nbsp;keywords:<br>
&nbsp;&nbsp;&nbsp;&nbsp;_cell_length_a<br>
&nbsp;&nbsp;&nbsp;&nbsp;_cell_length_b<br>
&nbsp;&nbsp;&nbsp;&nbsp;_cell_length_c<br>
&nbsp;&nbsp;&nbsp;&nbsp;_cell_angle_alpha<br>
&nbsp;&nbsp;&nbsp;&nbsp;_cell_angle_beta<br>
&nbsp;&nbsp;&nbsp;&nbsp;_cell_angle_gamma<br>
&nbsp;&nbsp;&nbsp;&nbsp;_space_group_symop_operation_xyz<br>
&nbsp;&nbsp;&nbsp;&nbsp;_atom_site_label<br>
&nbsp;&nbsp;&nbsp;&nbsp;_atom_site_type_symbol<br>
&nbsp;&nbsp;&nbsp;&nbsp;_atom_site_occupancy<br>
&nbsp;&nbsp;&nbsp;&nbsp;_atom_site_U_iso_or_equiv<br>
&nbsp;&nbsp;&nbsp;&nbsp;_atom_site_fract_x<br>
&nbsp;&nbsp;&nbsp;&nbsp;_atom_site_fract_y<br>
&nbsp;&nbsp;&nbsp;&nbsp;_atom_site_fract_z</tt></dd></dl>
</td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#55aa55">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Data</strong></big></font></td></tr>
    
<tr><td bgcolor="#55aa55"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><strong>__all__</strong> = ['fg', 'fp', 'fl', 'fc', 'Crystal', 'MultiCrystal', 'readcif', 'Structures', 'Fdmnes', 'FdmnesAnalysis']</td></tr></table>
</body></html>